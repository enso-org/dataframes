import Std.Foreign.C.Value
import Std.Foreign

def parseTextToDouble x:
    cString = CString.fromText x
    double = lookupSymbol "DataframeHelper" "luna_to_double" . call CDouble [cString . toCArg]
    cString.free
    double.toReal

def rowCount ptr: 
    rows = lookupSymbol "DataframeHelper" "rowCount" . call CInt [ptr . toCArg]
    rows.toInt

def columnCount ptr: 
    columns = lookupSymbol "DataframeHelper" "columnCount" . call CInt [ptr . toCArg]
    columns.toInt